if(Ti.App.Properties.hasProperty("SPECIES")){console.log("Info: species from locale storage");var species=JSON.parse(Ti.App.Properties.getString("SPECIES"))}else{console.log("Info: species must build");var csv=require("jp.coe.mod.csvparser"),f=csv.getFileToJSON("model/frogsounds.csv");console.log(f);var data=JSON.parse(Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory,"model","frogsounds.json").read().text),records=Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory,"model","recordslist.text").read().text,species={};data.forEach(function(e){var r=e[0];species[r]||(species[r]=[]),e[33]&&e[17]&&records.match(new RegExp(e[33],"gm"))&&species[r].push({locality:e[2],administrative_area:e[3],country:e[4],state:e[5],scenic_area:e[6],lat:e[7],lng:e[8],cdate:e[10]||"keine Angabe",ctime:e[11]||"",description:e[17],sound_type:e[18],background_species:e[19],author:e[22],weather:e[23],duration:e[32],mp3:"http://www.tierstimmenarchiv.de/recordings/"+e[33]+"_short.mp3"})}),Object.getOwnPropertyNames(species).forEach(function(e){species[e].length||delete species[e]}),Ti.App.Properties.setString("SPECIES",JSON.stringify(species)),Ti.UI.createNotification({message:"Tierstimmenarchiv erfolgtreich importiert."}).show()}exports.getAllSpeciesNames=function(){return Ti.App.Properties.hasProperty("SPECIES")?Object.getOwnPropertyNames(species):[]},exports.getRecordsBySpecies=function(e){return Ti.App.Properties.hasProperty("SPECIES")?species[e]:{}};
if(Ti.App.Properties.removeProperty("AMPHSPECIES"),Ti.App.Properties.hasProperty("AMPHSPECIES"))var species=JSON.parse(Ti.App.Properties.getString("AMPHSPECIES"));else{console.log("Info: species must build ============================");var lines=JSON.parse(Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory,"model","frogsounds.json").read().text),records=Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory,"model","recordslist.text").read().text,species={},primarykey={},total=0;lines.forEach(function(e){var t=e[0],i=e[33];1!=primarykey[i]&&(primarykey[i]=!0,species[t]||(species[t]=[]),i&&records.match(new RegExp(i,"gm"))&&(total++,species[t].push({locality:e[2],administrative_area:e[3],country:e[4],state:e[5],scenic_area:e[6],lat:e[7],lng:e[8],cdate:e[10]||"keine Angabe",ctime:e[11]||"",description:e[17],sound_type:e[18],background_species:e[19],author:e[22],weather:e[23],duration:e[32],mp3url:"http://www.tierstimmenarchiv.de/recordings/"+i+"_short.mp3",spectrogram:"http://mm.webmasterei.com/spectrogram/"+i+"_short.mp3.wav.png.jpg"})))}),Object.getOwnPropertyNames(species).forEach(function(e){species[e].length||delete species[e]}),Ti.App.Properties.setString("AMPHSPECIES",JSON.stringify(species)),primarykey=null,Ti.UI.createNotification({message:"Tierstimmenarchiv erfolgtreich importiert.\n"+total+" Tonaufnahmen"}).show()}exports.getAllSpeciesNames=function(){var e=species?Object.getOwnPropertyNames(species):[];return e.sort(function(e,t){return species[e].length<species[t].length?!0:!1})},exports.getRecordsBySpecies=function(e){return Ti.App.Properties.hasProperty("AMPHSPECIES")?species[e]:{}};
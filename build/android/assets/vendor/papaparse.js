!function(e){"use strict";function t(t,n){if(n=n||{},n.worker&&D.WORKERS_SUPPORTED){var a=u();return a.userStep=n.step,a.userChunk=n.chunk,a.userComplete=n.complete,a.userError=n.error,n.step=L(n.step),n.chunk=L(n.chunk),n.complete=L(n.complete),n.error=L(n.error),delete n.worker,void a.postMessage({input:t,config:n,workerId:a.id})}var o=null;return"string"==typeof t?o=n.download?new r(n):new s(n):(e.File&&t instanceof File||t instanceof Object)&&(o=new i(n)),o.stream(t)}function n(e,t){function n(){"object"==typeof t&&("string"==typeof t.delimiter&&1==t.delimiter.length&&-1==D.BAD_DELIMITERS.indexOf(t.delimiter)&&(_=t.delimiter),("boolean"==typeof t.quotes||t.quotes instanceof Array)&&(o=t.quotes),"string"==typeof t.newline&&(d=t.newline))}function a(e){if("object"!=typeof e)return[];var t=[];for(var n in e)t.push(n);return t}function r(e,t){var n="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var a=e instanceof Array&&e.length>0,r=!(t[0]instanceof Array);if(a){for(var s=0;s<e.length;s++)s>0&&(n+=_),n+=i(e[s],s);t.length>0&&(n+=d)}for(var o=0;o<t.length;o++){for(var u=a?e.length:t[o].length,l=0;u>l;l++){l>0&&(n+=_);var c=a&&r?e[l]:l;n+=i(t[o][c],l)}o<t.length-1&&(n+=d)}return n}function i(e,t){if("undefined"==typeof e||null===e)return"";e=e.toString().replace(/"/g,'""');var n="boolean"==typeof o&&o||o instanceof Array&&o[t]||s(e,D.BAD_DELIMITERS)||e.indexOf(_)>-1||" "==e.charAt(0)||" "==e.charAt(e.length-1);return n?'"'+e+'"':e}function s(e,t){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1}var o=!1,_=",",d="\r\n";if(n(),"string"==typeof e&&(e=JSON.parse(e)),e instanceof Array){if(!e.length||e[0]instanceof Array)return r(null,e);if("object"==typeof e[0])return r(a(e[0]),e)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data instanceof Array&&(e.fields||(e.fields=e.data[0]instanceof Array?e.fields:a(e.data[0])),e.data[0]instanceof Array||"object"==typeof e.data[0]||(e.data=[e.data])),r(e.fields||[],e.data||[]);throw"exception: Unable to serialize unrecognized input"}function a(t){function n(e){var t=M(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new o(t),this._handle.streamer=this,this._config=t}this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},n.call(this,t),this.parseChunk=function(t){if(this.isFirstChunk&&L(this._config.beforeFirstChunk)){var n=this._config.beforeFirstChunk(t);void 0!==n&&(t=n)}this.isFirstChunk=!1;var a=this._partialLine+t;this._partialLine="";var r=this._handle.parse(a,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var i=r.meta.cursor;this._finished||(this._partialLine=a.substring(i-this._baseIndex),this._baseIndex=i),r&&r.data&&(this._rowCount+=r.data.length);var s=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(Y)e.postMessage({results:r,workerId:D.WORKER_ID,finished:s});else if(L(this._config.chunk)){if(this._config.chunk(r,this._handle),this._paused)return;r=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(r.data),this._completeResults.errors=this._completeResults.errors.concat(r.errors),this._completeResults.meta=r.meta),!s||!L(this._config.complete)||r&&r.meta.aborted||this._config.complete(this._completeResults),s||r&&r.meta.paused||this._nextChunk(),r}},this._sendError=function(t){L(this._config.error)?this._config.error(t):Y&&this._config.error&&e.postMessage({workerId:D.WORKER_ID,error:t,finished:!1})}}function r(e){function t(e){var t=e.getResponseHeader("Content-Range");return parseInt(t.substr(t.lastIndexOf("/")+1))}e=e||{},e.chunkSize||(e.chunkSize=D.RemoteChunkSize),a.call(this,e);var n;y?this._nextChunk=function(){this._readChunk(),this._chunkLoaded()}:this._nextChunk=function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)return void this._chunkLoaded();if(n=new XMLHttpRequest,y||(n.onload=f(this._chunkLoaded,this),n.onerror=f(this._chunkError,this)),n.open("GET",this._input,!y),this._config.chunkSize){var e=this._start+this._config.chunkSize-1;n.setRequestHeader("Range","bytes="+this._start+"-"+e),n.setRequestHeader("If-None-Match","webkit-no-cache")}try{n.send()}catch(t){this._chunkError(t.message)}y&&0==n.status?this._chunkError():this._start+=this._config.chunkSize},this._chunkLoaded=function(){if(4==n.readyState){if(n.status<200||n.status>=400)return void this._chunkError();this._finished=!this._config.chunkSize||this._start>t(n),this.parseChunk(n.responseText)}},this._chunkError=function(e){var t=n.statusText||e;this._sendError(t)}}function i(e){e=e||{},e.chunkSize||(e.chunkSize=D.LocalChunkSize),a.call(this,e);var t,n,r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?(t=new FileReader,t.onload=f(this._chunkLoaded,this),t.onerror=f(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var a=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,a)}var i=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function s(e){e=e||{},a.call(this,e);var t,n;this.stream=function(e){return t=e,n=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e=this._config.chunkSize,t=e?n.substr(0,e):n;return n=e?n.substr(e):"",this._finished=!n,this.parseChunk(t)}}}function o(e){function t(){if(g&&c&&(d("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+D.DefaultDelimiter+"'"),c=!1),e.skipEmptyLines)for(var t=0;t<g.data.length;t++)1==g.data[t].length&&""==g.data[t][0]&&g.data.splice(t--,1);return n()&&a(),r()}function n(){return e.header&&0==Y.length}function a(){if(g){for(var e=0;n()&&e<g.data.length;e++)for(var t=0;t<g.data[e].length;t++)Y.push(g.data[e][t]);g.data.splice(0,1)}}function r(){if(!g||!e.header&&!e.dynamicTyping)return g;for(var t=0;t<g.data.length;t++){for(var n={},a=0;a<g.data[t].length;a++){if(e.dynamicTyping){var r=g.data[t][a];"true"==r||"TRUE"==r?g.data[t][a]=!0:"false"==r||"FALSE"==r?g.data[t][a]=!1:g.data[t][a]=o(r)}e.header&&(a>=Y.length?(n.__parsed_extra||(n.__parsed_extra=[]),n.__parsed_extra.push(g.data[t][a])):n[Y[a]]=g.data[t][a])}e.header&&(g.data[t]=n,a>Y.length?d("FieldMismatch","TooManyFields","Too many fields: expected "+Y.length+" fields but parsed "+a,t):a<Y.length&&d("FieldMismatch","TooFewFields","Too few fields: expected "+Y.length+" fields but parsed "+a,t))}return e.header&&g.meta&&(g.meta.fields=Y),g}function i(t){for(var n,a,r,i=[",","	","|",";",D.RECORD_SEP,D.UNIT_SEP],s=0;s<i.length;s++){var o=i[s],d=0,u=0;r=void 0;for(var l=new _({delimiter:o,preview:10}).parse(t),c=0;c<l.data.length;c++){var m=l.data[c].length;u+=m,"undefined"!=typeof r?m>1&&(d+=Math.abs(m-r),r=m):r=m}l.data.length>0&&(u/=l.data.length),("undefined"==typeof a||a>d)&&u>1.99&&(a=d,n=o)}return e.delimiter=n,{successful:!!n,bestDelimiter:n}}function s(e){e=e.substr(0,1048576);var t=e.split("\r");if(1==t.length)return"\n";for(var n=0,a=0;a<t.length;a++)"\n"==t[a][0]&&n++;return n>=t.length/2?"\r\n":"\r"}function o(e){var t=m.test(e);return t?parseFloat(e):e}function d(e,t,n,a){g.errors.push({type:e,code:t,message:n,row:a})}var u,l,c,m=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,h=this,f=0,p=!1,y=!1,Y=[],g={data:[],errors:[],meta:{}};if(L(e.step)){var T=e.step;e.step=function(a){if(g=a,n())t();else{if(t(),0==g.data.length)return;f+=a.data.length,e.preview&&f>e.preview?l.abort():T(g,h)}}}this.parse=function(n,a,r){if(e.newline||(e.newline=s(n)),c=!1,!e.delimiter){var o=i(n);o.successful?e.delimiter=o.bestDelimiter:(c=!0,e.delimiter=D.DefaultDelimiter),g.meta.delimiter=e.delimiter}var d=M(e);return e.preview&&e.header&&d.preview++,u=n,l=new _(d),g=l.parse(u,a,r),t(),p?{meta:{paused:!0}}:g||{meta:{paused:!1}}},this.paused=function(){return p},this.pause=function(){p=!0,l.abort(),u=u.substr(l.getCharIndex())},this.resume=function(){p=!1,h.streamer.parseChunk(u)},this.aborted=function(){return y},this.abort=function(){y=!0,l.abort(),g.meta.aborted=!0,L(e.complete)&&e.complete(g),u=""}}function _(e){e=e||{};var t=e.delimiter,n=e.newline,a=e.comments,r=e.step,i=e.preview,s=e.fastMode;if(("string"!=typeof t||D.BAD_DELIMITERS.indexOf(t)>-1)&&(t=","),a===t)throw"Comment character same as delimiter";a===!0?a="#":("string"!=typeof a||D.BAD_DELIMITERS.indexOf(a)>-1)&&(a=!1),"\n"!=n&&"\r"!=n&&"\r\n"!=n&&(n="\n");var o=0,_=!1;this.parse=function(e,d,u){function l(e){g.push(e),D=o}function c(t){return u?h():("undefined"==typeof t&&(t=e.substr(o)),k.push(t),o=f,l(k),Y&&M(),h())}function m(t){o=t,l(k),k=[],S=e.indexOf(n,o)}function h(e){return{data:g,errors:T,meta:{delimiter:t,linebreak:n,aborted:_,truncated:!!e,cursor:D+(d||0)}}}function M(){r(h()),g=[],T=[]}if("string"!=typeof e)throw"Input must be a string";var f=e.length,L=t.length,p=n.length,y=a.length,Y="function"==typeof r;o=0;var g=[],T=[],k=[],D=0;if(!e)return h();if(s||s!==!1&&-1===e.indexOf('"')){for(var w=e.split(n),b=0;b<w.length;b++){var k=w[b];if(o+=k.length,b!==w.length-1)o+=n.length;else if(u)return h();if(!a||k.substr(0,y)!=a){if(Y){if(g=[],l(k.split(t)),M(),_)return h()}else l(k.split(t));if(i&&b>=i)return g=g.slice(0,i),h(!0)}}return h()}for(var v=e.indexOf(t,o),S=e.indexOf(n,o);;)if('"'!=e[o])if(a&&0===k.length&&e.substr(o,y)===a){if(-1==S)return h();o=S+p,S=e.indexOf(n,o),v=e.indexOf(t,o)}else if(-1!==v&&(S>v||-1===S))k.push(e.substring(o,v)),o=v+L,v=e.indexOf(t,o);else{if(-1===S)break;if(k.push(e.substring(o,S)),m(S+p),Y&&(M(),_))return h();if(i&&g.length>=i)return h(!0)}else{var j=o;for(o++;;){var j=e.indexOf('"',j+1);if(-1===j)return u||T.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:g.length,index:o}),c();if(j===f-1){var x=e.substring(o,j).replace(/""/g,'"');return c(x)}if('"'!=e[j+1]){if(e[j+1]==t){k.push(e.substring(o,j).replace(/""/g,'"')),o=j+1+L,v=e.indexOf(t,o),S=e.indexOf(n,o);break}if(e.substr(j+1,p)===n){if(k.push(e.substring(o,j).replace(/""/g,'"')),m(j+1+p),v=e.indexOf(t,o),Y&&(M(),_))return h();if(i&&g.length>=i)return h(!0);break}}else j++}}return c()},this.abort=function(){_=!0},this.getCharIndex=function(){return o}}function d(){var e=document.getElementsByTagName("script");return e.length?e[e.length-1].src:""}function u(){if(!D.WORKERS_SUPPORTED)return!1;if(!g&&null===D.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var t=D.SCRIPT_PATH||p;t+=(-1!==t.indexOf("?")?"&":"?")+"papaworker";var n=new e.Worker(t);return n.onmessage=l,n.id=k++,T[n.id]=n,n}function l(e){var t=e.data,n=T[t.workerId],a=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var r=function(){a=!0,c(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},i={abort:r,pause:m,resume:m};if(L(n.userStep)){for(var s=0;s<t.results.data.length&&(n.userStep({data:[t.results.data[s]],errors:t.results.errors,meta:t.results.meta},i),!a);s++);delete t.results}else L(n.userChunk)&&(n.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!a&&c(t.workerId,t.results)}function c(e,t){var n=T[e];L(n.userComplete)&&n.userComplete(t),n.terminate(),delete T[e]}function m(){throw"Not implemented."}function h(t){var n=t.data;if("undefined"==typeof D.WORKER_ID&&n&&(D.WORKER_ID=n.workerId),"string"==typeof n.input)e.postMessage({workerId:D.WORKER_ID,results:D.parse(n.input,n.config),finished:!0});else if(e.File&&n.input instanceof File||n.input instanceof Object){var a=D.parse(n.input,n.config);a&&e.postMessage({workerId:D.WORKER_ID,results:a,finished:!0})}}function M(e){if("object"!=typeof e)return e;var t=e instanceof Array?[]:{};for(var n in e)t[n]=M(e[n]);return t}function f(e,t){return function(){e.apply(t,arguments)}}function L(e){return"function"==typeof e}var p,y=!e.document&&!!e.postMessage,Y=y&&/(\?|&)papaworker(=|&|$)/.test(e.location.search),g=!1,T={},k=0,D={};D.parse=t,D.unparse=n,D.RECORD_SEP=String.fromCharCode(30),D.UNIT_SEP=String.fromCharCode(31),D.BYTE_ORDER_MARK="\ufeff",D.BAD_DELIMITERS=["\r","\n",'"',D.BYTE_ORDER_MARK],D.WORKERS_SUPPORTED=!y&&!!e.Worker,D.SCRIPT_PATH=null,D.LocalChunkSize=10485760,D.RemoteChunkSize=5242880,D.DefaultDelimiter=",",D.Parser=_,D.ParserHandle=o,D.NetworkStreamer=r,D.FileStreamer=i,D.StringStreamer=s,"undefined"!=typeof module&&module.exports?module.exports=D:L(e.define)&&e.define.amd?define(function(){return D}):e.Papa=D,Y?e.onmessage=h:D.WORKERS_SUPPORTED&&(p=d(),document.body?document.addEventListener("DOMContentLoaded",function(){g=!0},!0):g=!0),r.prototype=Object.create(a.prototype),r.prototype.constructor=r,i.prototype=Object.create(a.prototype),i.prototype.constructor=i,s.prototype=Object.create(s.prototype),s.prototype.constructor=s}("undefined"!=typeof window?window:this);
!function(e){"use strict";function t(t,n){if(n=n||{},n.worker&&g.WORKERS_SUPPORTED){var a=u();return a.userStep=n.step,a.userChunk=n.chunk,a.userComplete=n.complete,a.userError=n.error,n.step=f(n.step),n.chunk=f(n.chunk),n.complete=f(n.complete),n.error=f(n.error),delete n.worker,void a.postMessage({input:t,config:n,workerId:a.id})}var d=null;return"string"==typeof t?d=n.download?new r(n):new i(n):(e.File&&t instanceof File||t instanceof Object)&&(d=new s(n)),d.stream(t)}function n(e,t){function n(){"object"==typeof t&&("string"==typeof t.delimiter&&1==t.delimiter.length&&-1==g.BAD_DELIMITERS.indexOf(t.delimiter)&&(o=t.delimiter),("boolean"==typeof t.quotes||t.quotes instanceof Array)&&(d=t.quotes),"string"==typeof t.newline&&(_=t.newline))}function a(e){if("object"!=typeof e)return[];var t=[];for(var n in e)t.push(n);return t}function r(e,t){var n="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var a=e instanceof Array&&e.length>0,r=!(t[0]instanceof Array);if(a){for(var i=0;i<e.length;i++)i>0&&(n+=o),n+=s(e[i],i);t.length>0&&(n+=_)}for(var d=0;d<t.length;d++){for(var u=a?e.length:t[d].length,l=0;u>l;l++){l>0&&(n+=o);var m=a&&r?e[l]:l;n+=s(t[d][m],l)}d<t.length-1&&(n+=_)}return n}function s(e,t){if("undefined"==typeof e||null===e)return"";e=e.toString().replace(/"/g,'""');var n="boolean"==typeof d&&d||d instanceof Array&&d[t]||i(e,g.BAD_DELIMITERS)||e.indexOf(o)>-1||" "==e.charAt(0)||" "==e.charAt(e.length-1);return n?'"'+e+'"':e}function i(e,t){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1}var d=!1,o=",",_="\r\n";if(n(),"string"==typeof e&&(e=JSON.parse(e)),e instanceof Array){if(!e.length||e[0]instanceof Array)return r(null,e);if("object"==typeof e[0])return r(a(e[0]),e)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data instanceof Array&&(e.fields||(e.fields=e.data[0]instanceof Array?e.fields:a(e.data[0])),e.data[0]instanceof Array||"object"==typeof e.data[0]||(e.data=[e.data])),r(e.fields||[],e.data||[]);throw"exception: Unable to serialize unrecognized input"}function a(t){function n(e){var t=M(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new d(t),this._handle.streamer=this,this._config=t}this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},n.call(this,t),this.parseChunk=function(t){if(this.isFirstChunk&&f(this._config.beforeFirstChunk)){var n=this._config.beforeFirstChunk(t);void 0!==n&&(t=n)}this.isFirstChunk=!1;var a=this._partialLine+t;this._partialLine="";var r=this._handle.parse(a,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=r.meta.cursor;this._finished||(this._partialLine=a.substring(s-this._baseIndex),this._baseIndex=s),r&&r.data&&(this._rowCount+=r.data.length);var i=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(y)e.postMessage({results:r,workerId:g.WORKER_ID,finished:i});else if(f(this._config.chunk)){if(this._config.chunk(r,this._handle),this._paused)return;r=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(r.data),this._completeResults.errors=this._completeResults.errors.concat(r.errors),this._completeResults.meta=r.meta),!i||!f(this._config.complete)||r&&r.meta.aborted||this._config.complete(this._completeResults),i||r&&r.meta.paused||this._nextChunk(),r}},this._sendError=function(t){f(this._config.error)?this._config.error(t):y&&this._config.error&&e.postMessage({workerId:g.WORKER_ID,error:t,finished:!1})}}function r(e){function t(e){var t=e.getResponseHeader("Content-Range");return parseInt(t.substr(t.lastIndexOf("/")+1))}e=e||{},e.chunkSize||(e.chunkSize=g.RemoteChunkSize),a.call(this,e);var n;Y?this._nextChunk=function(){this._readChunk(),this._chunkLoaded()}:this._nextChunk=function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)return void this._chunkLoaded();if(n=new XMLHttpRequest,Y||(n.onload=L(this._chunkLoaded,this),n.onerror=L(this._chunkError,this)),n.open("GET",this._input,!Y),this._config.chunkSize){var e=this._start+this._config.chunkSize-1;n.setRequestHeader("Range","bytes="+this._start+"-"+e),n.setRequestHeader("If-None-Match","webkit-no-cache")}try{n.send()}catch(t){this._chunkError(t.message)}Y&&0==n.status?this._chunkError():this._start+=this._config.chunkSize},this._chunkLoaded=function(){if(4==n.readyState){if(n.status<200||n.status>=400)return void this._chunkError();this._finished=!this._config.chunkSize||this._start>t(n),this.parseChunk(n.responseText)}},this._chunkError=function(e){var t=n.statusText||e;this._sendError(t)}}function s(e){e=e||{},e.chunkSize||(e.chunkSize=g.LocalChunkSize),a.call(this,e);var t,n,r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?(t=new FileReader,t.onload=L(this._chunkLoaded,this),t.onerror=L(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var a=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,a)}var s=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:s}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function i(e){e=e||{},a.call(this,e);var t,n;this.stream=function(e){return t=e,n=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e=this._config.chunkSize,t=e?n.substr(0,e):n;return n=e?n.substr(e):"",this._finished=!n,this.parseChunk(t)}}}function d(e){function t(){if(T&&m&&(_("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+g.DefaultDelimiter+"'"),m=!1),e.skipEmptyLines)for(var t=0;t<T.data.length;t++)1==T.data[t].length&&""==T.data[t][0]&&T.data.splice(t--,1);return n()&&a(),r()}function n(){return e.header&&0==y.length}function a(){if(T){for(var e=0;n()&&e<T.data.length;e++)for(var t=0;t<T.data[e].length;t++)y.push(T.data[e][t]);T.data.splice(0,1)}}function r(){if(!T||!e.header&&!e.dynamicTyping)return T;for(var t=0;t<T.data.length;t++){for(var n={},a=0;a<T.data[t].length;a++){if(e.dynamicTyping){var r=T.data[t][a];"true"==r||"TRUE"==r?T.data[t][a]=!0:"false"==r||"FALSE"==r?T.data[t][a]=!1:T.data[t][a]=d(r)}e.header&&(a>=y.length?(n.__parsed_extra||(n.__parsed_extra=[]),n.__parsed_extra.push(T.data[t][a])):n[y[a]]=T.data[t][a])}e.header&&(T.data[t]=n,a>y.length?_("FieldMismatch","TooManyFields","Too many fields: expected "+y.length+" fields but parsed "+a,t):a<y.length&&_("FieldMismatch","TooFewFields","Too few fields: expected "+y.length+" fields but parsed "+a,t))}return e.header&&T.meta&&(T.meta.fields=y),T}function s(t){for(var n,a,r,s=[",","	","|",";",g.RECORD_SEP,g.UNIT_SEP],i=0;i<s.length;i++){var d=s[i],_=0,u=0;r=void 0;for(var l=new o({delimiter:d,preview:10}).parse(t),m=0;m<l.data.length;m++){var c=l.data[m].length;u+=c,"undefined"!=typeof r?c>1&&(_+=Math.abs(c-r),r=c):r=c}l.data.length>0&&(u/=l.data.length),("undefined"==typeof a||a>_)&&u>1.99&&(a=_,n=d)}return e.delimiter=n,{successful:!!n,bestDelimiter:n}}function i(e){e=e.substr(0,1048576);var t=e.split("\r");if(1==t.length)return"\n";for(var n=0,a=0;a<t.length;a++)"\n"==t[a][0]&&n++;return n>=t.length/2?"\r\n":"\r"}function d(e){var t=c.test(e);return t?parseFloat(e):e}function _(e,t,n,a){T.errors.push({type:e,code:t,message:n,row:a})}var u,l,m,c=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,h=this,L=0,p=!1,Y=!1,y=[],T={data:[],errors:[],meta:{}};if(f(e.step)){var D=e.step;e.step=function(a){if(T=a,n())t();else{if(t(),0==T.data.length)return;L+=a.data.length,e.preview&&L>e.preview?l.abort():D(T,h)}}}this.parse=function(n,a,r){if(e.newline||(e.newline=i(n)),m=!1,!e.delimiter){var d=s(n);d.successful?e.delimiter=d.bestDelimiter:(m=!0,e.delimiter=g.DefaultDelimiter),T.meta.delimiter=e.delimiter}var _=M(e);return e.preview&&e.header&&_.preview++,u=n,l=new o(_),T=l.parse(u,a,r),t(),p?{meta:{paused:!0}}:T||{meta:{paused:!1}}},this.paused=function(){return p},this.pause=function(){p=!0,l.abort(),u=u.substr(l.getCharIndex())},this.resume=function(){p=!1,h.streamer.parseChunk(u)},this.aborted=function(){return Y},this.abort=function(){Y=!0,l.abort(),T.meta.aborted=!0,f(e.complete)&&e.complete(T),u=""}}function o(e){e=e||{};var t=e.delimiter,n=e.newline,a=e.comments,r=e.step,s=e.preview,i=e.fastMode;if(("string"!=typeof t||g.BAD_DELIMITERS.indexOf(t)>-1)&&(t=","),a===t)throw"Comment character same as delimiter";a===!0?a="#":("string"!=typeof a||g.BAD_DELIMITERS.indexOf(a)>-1)&&(a=!1),"\n"!=n&&"\r"!=n&&"\r\n"!=n&&(n="\n");var d=0,o=!1;this.parse=function(e,_,u){function l(e){T.push(e),g=d}function m(t){return u?h():("undefined"==typeof t&&(t=e.substr(d)),k.push(t),d=L,l(k),y&&M(),h())}function c(t){d=t,l(k),k=[],S=e.indexOf(n,d)}function h(e){return{data:T,errors:D,meta:{delimiter:t,linebreak:n,aborted:o,truncated:!!e,cursor:g+(_||0)}}}function M(){r(h()),T=[],D=[]}if("string"!=typeof e)throw"Input must be a string";var L=e.length,f=t.length,p=n.length,Y=a.length,y="function"==typeof r;d=0;var T=[],D=[],k=[],g=0;if(!e)return h();if(i||i!==!1&&-1===e.indexOf('"')){for(var w=e.split(n),v=0;v<w.length;v++){var k=w[v];if(d+=k.length,v!==w.length-1)d+=n.length;else if(u)return h();if(!a||k.substr(0,Y)!=a){if(y){if(T=[],l(k.split(t)),M(),o)return h()}else l(k.split(t));if(s&&v>=s)return T=T.slice(0,s),h(!0)}}return h()}for(var b=e.indexOf(t,d),S=e.indexOf(n,d);;)if('"'!=e[d])if(a&&0===k.length&&e.substr(d,Y)===a){if(-1==S)return h();d=S+p,S=e.indexOf(n,d),b=e.indexOf(t,d)}else if(-1!==b&&(S>b||-1===S))k.push(e.substring(d,b)),d=b+f,b=e.indexOf(t,d);else{if(-1===S)break;if(k.push(e.substring(d,S)),c(S+p),y&&(M(),o))return h();if(s&&T.length>=s)return h(!0)}else{var j=d;for(d++;;){var j=e.indexOf('"',j+1);if(-1===j)return u||D.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:T.length,index:d}),m();if(j===L-1){var x=e.substring(d,j).replace(/""/g,'"');return m(x)}if('"'!=e[j+1]){if(e[j+1]==t){k.push(e.substring(d,j).replace(/""/g,'"')),d=j+1+f,b=e.indexOf(t,d),S=e.indexOf(n,d);break}if(e.substr(j+1,p)===n){if(k.push(e.substring(d,j).replace(/""/g,'"')),c(j+1+p),b=e.indexOf(t,d),y&&(M(),o))return h();if(s&&T.length>=s)return h(!0);break}}else j++}}return m()},this.abort=function(){o=!0},this.getCharIndex=function(){return d}}function _(){var e=document.getElementsByTagName("script");return e.length?e[e.length-1].src:""}function u(){if(!g.WORKERS_SUPPORTED)return!1;if(!T&&null===g.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var t=g.SCRIPT_PATH||p;t+=(-1!==t.indexOf("?")?"&":"?")+"papaworker";var n=new e.Worker(t);return n.onmessage=l,n.id=k++,D[n.id]=n,n}function l(e){var t=e.data,n=D[t.workerId],a=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var r=function(){a=!0,m(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},s={abort:r,pause:c,resume:c};if(f(n.userStep)){for(var i=0;i<t.results.data.length&&(n.userStep({data:[t.results.data[i]],errors:t.results.errors,meta:t.results.meta},s),!a);i++);delete t.results}else f(n.userChunk)&&(n.userChunk(t.results,s,t.file),delete t.results)}t.finished&&!a&&m(t.workerId,t.results)}function m(e,t){var n=D[e];f(n.userComplete)&&n.userComplete(t),n.terminate(),delete D[e]}function c(){throw"Not implemented."}function h(t){var n=t.data;if("undefined"==typeof g.WORKER_ID&&n&&(g.WORKER_ID=n.workerId),"string"==typeof n.input)e.postMessage({workerId:g.WORKER_ID,results:g.parse(n.input,n.config),finished:!0});else if(e.File&&n.input instanceof File||n.input instanceof Object){var a=g.parse(n.input,n.config);a&&e.postMessage({workerId:g.WORKER_ID,results:a,finished:!0})}}function M(e){if("object"!=typeof e)return e;var t=e instanceof Array?[]:{};for(var n in e)t[n]=M(e[n]);return t}function L(e,t){return function(){e.apply(t,arguments)}}function f(e){return"function"==typeof e}var p,Y=!e.document&&!!e.postMessage,y=Y&&/(\?|&)papaworker(=|&|$)/.test(e.location.search),T=!1,D={},k=0,g={};g.parse=t,g.unparse=n,g.RECORD_SEP=String.fromCharCode(30),g.UNIT_SEP=String.fromCharCode(31),g.BYTE_ORDER_MARK="\ufeff",g.BAD_DELIMITERS=["\r","\n",'"',g.BYTE_ORDER_MARK],g.WORKERS_SUPPORTED=!Y&&!!e.Worker,g.SCRIPT_PATH=null,g.LocalChunkSize=10485760,g.RemoteChunkSize=5242880,g.DefaultDelimiter=",",g.Parser=o,g.ParserHandle=d,g.NetworkStreamer=r,g.FileStreamer=s,g.StringStreamer=i,"undefined"!=typeof module&&module.exports?module.exports=g:f(e.define)&&e.define.amd?define(function(){return g}):e.Papa=g,y?e.onmessage=h:g.WORKERS_SUPPORTED&&(p=_(),document.body?document.addEventListener("DOMContentLoaded",function(){T=!0},!0):T=!0),r.prototype=Object.create(a.prototype),r.prototype.constructor=r,s.prototype=Object.create(a.prototype),s.prototype.constructor=s,i.prototype=Object.create(i.prototype),i.prototype.constructor=i}("undefined"!=typeof window?window:this);